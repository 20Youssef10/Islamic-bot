"""
Ramadan Collection - Fasting guides, tips, and Ramadan-specific content
"""

import random
from datetime import datetime, timedelta

RAMADAN_GUIDES = {
    "intention": {
        "title": "Ù†ÙŠØ© Ø§Ù„ØµÙŠØ§Ù…",
        "content": "Ù†ÙˆÙŠØª ØµÙŠØ§Ù… ØºØ¯ Ù…Ù† Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ ÙØ±Ø¶Ø§Ù‹ Ù„Ùƒ ÙŠØ§ Ø§Ù„Ù„Ù‡ ÙØªÙ‚Ø¨Ù„ Ù…Ù†ÙŠ Ø¥Ù†Ùƒ Ø£Ù†Øª Ø§Ù„Ø³Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù„ÙŠÙ…",
        "translation": "I intend to fast tomorrow from the blessed month of Ramadan as an obligation for You, O Allah, so accept it from me, You are the All-Hearing, All-Knowing"
    },
    "iftar_dua": {
        "title": "Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø¥ÙØ·Ø§Ø±",
        "content": "Ø§Ù„Ù„Ù‡Ù… Ù„Ùƒ ØµÙ…Øª ÙˆØ¹Ù„Ù‰ Ø±Ø²Ù‚Ùƒ Ø£ÙØ·Ø±ØªØŒ Ø°Ù‡Ø¨ Ø§Ù„Ø¸Ù…Ø£ ÙˆØ§Ø¨ØªÙ„Øª Ø§Ù„Ø¹Ø±ÙˆÙ‚ ÙˆØ«Ø¨Øª Ø§Ù„Ø£Ø¬Ø± Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡",
        "translation": "O Allah, for You I fasted, and with Your provision I break my fast. Thirst is gone, veins are moistened, and reward is confirmed if Allah wills"
    },
    "suhoor_importance": {
        "title": "ÙØ¶Ù„ Ø§Ù„Ø³Ø­ÙˆØ±",
        "content": "ØªØ³Ø­Ø±ÙˆØ§ ÙØ¥Ù† ÙÙŠ Ø§Ù„Ø³Ø­ÙˆØ± Ø¨Ø±ÙƒØ©",
        "translation": "Take Suhoor as there is a blessing in it",
        "reference": "ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ"
    }
}

RAMADAN_TIPS = [
    "ğŸŒ™ **ØªÙ†Ø§ÙˆÙ„ Ø§Ù„ØªÙ…Ø±** - Ø§Ù„ØªÙ…Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙØ·Ø§Ø± ÙŠÙ…Ø¯ Ø§Ù„Ø¬Ø³Ù… Ø¨Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",
    "ğŸ’§ **Ø§Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹** - ØªØ¬Ù†Ø¨ Ø´Ø±Ø¨ ÙƒÙ…ÙŠØ§Øª ÙƒØ¨ÙŠØ±Ø© Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©",
    "ğŸ¥— **ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ù…ØªÙˆØ§Ø²Ù†** - Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ†Ø§Øª ÙˆØ§Ù„Ø®Ø¶Ø±ÙˆØ§Øª",
    "ğŸ˜´ **Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù‚Ø³Ø· ÙƒØ§ÙÙ Ù…Ù† Ø§Ù„Ù†ÙˆÙ…** - Ø§Ù„Ù†ÙˆÙ… Ù…Ù‡Ù… Ù„Ù„ØµØ­Ø© ÙˆØ§Ù„Ø·Ø§Ù‚Ø©",
    "ğŸ“– **Ø®ØµØµ ÙˆÙ‚Øª Ù„Ù„Ù‚Ø±Ø¢Ù†** - Ø±Ù…Ø¶Ø§Ù† Ø´Ù‡Ø± Ø§Ù„Ù‚Ø±Ø¢Ù†",
    "ğŸ¤² **ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø¯Ø¹Ø§Ø¡** - Ø³Ø§Ø¹Ø© Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙØ·Ø§Ø±",
    "ğŸ•Œ **ØµÙ„Ø§Ø© Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­** - Ù„Ø§ ØªÙÙˆØªÙ‡Ø§ ÙÙ‡ÙŠ Ù…Ù† Ù…Ù…ÙŠØ²Ø§Øª Ø±Ù…Ø¶Ø§Ù†",
    "ğŸ’° **ØªØµØ¯Ù‚** - Ø±Ù…Ø¶Ø§Ù† Ù…ÙˆØ³Ù… Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ù„Ø¨Ø±ÙƒØ©"
]

TARAWEEH_GUIDE = {
    "description": "ØµÙ„Ø§Ø© Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­ Ø³Ù†Ø© Ù…Ø¤ÙƒØ¯Ø© ÙÙŠ Ø±Ù…Ø¶Ø§Ù†",
    "rakats": "8 Ø£Ùˆ 20 Ø±ÙƒØ¹Ø©",
    "timing": "Ø¨Ø¹Ø¯ ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡ Ø­ØªÙ‰ Ø§Ù„ÙØ¬Ø±",
    "prayer_intention": "Ù†ÙˆÙŠØª ØµÙ„Ø§Ø© Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­ Ø³Ù†Ø© Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰",
    "virtues": [
        "Ù…Ù† Ù‚Ø§Ù… Ø±Ù…Ø¶Ø§Ù† Ø¥ÙŠÙ…Ø§Ù†Ø§Ù‹ ÙˆØ§Ø­ØªØ³Ø§Ø¨Ø§Ù‹ ØºÙØ± Ù„Ù‡ Ù…Ø§ ØªÙ‚Ø¯Ù… Ù…Ù† Ø°Ù†Ø¨Ù‡",
        "Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­ Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ù‚Ø±Ø¨Ø§Øª ÙÙŠ Ø±Ù…Ø¶Ø§Ù†",
        "Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† ÙÙŠ ØµÙ„Ø§Ø© Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­"
    ]
}

LAYLATUL_QADR_INFO = {
    "description": "Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø± Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ø´Ù‡Ø±",
    "signs": [
        "Ù„ÙŠÙ„Ø© Ø·Ù„Ù‚Ø© Ù„Ø§ Ø­Ø§Ø±Ø© ÙˆÙ„Ø§ Ø¨Ø§Ø±Ø¯Ø©",
        "ØµØ§ÙÙŠØ© Ø³Ù…Ø§Ø¤Ù‡Ø§",
        "Ù„Ø§ ÙŠÙ†Ø²Ù„ ÙÙŠÙ‡Ø§ Ø´ÙŠØ·Ø§Ù†",
        "Ø§Ù„Ø´Ù…Ø³ ÙÙŠ ØµØ¨ÙŠØ­ØªÙ‡Ø§ Ø¨ÙŠØ¶Ø§Ø¡ Ù„Ø§ Ø´Ø¹Ø§Ø¹ Ù„Ù‡Ø§"
    ],
    "recommended_actions": [
        "Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„",
        "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†",
        "Ø§Ù„Ø¯Ø¹Ø§Ø¡",
        "Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±",
        "Ø§Ù„Ø§Ø¹ØªÙƒØ§Ù ÙÙŠ Ø§Ù„Ø¹Ø´Ø± Ø§Ù„Ø£ÙˆØ§Ø®Ø±"
    ],
    "dua": "Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø¹ÙÙˆ ØªØ­Ø¨ Ø§Ù„Ø¹ÙÙˆ ÙØ§Ø¹Ù Ø¹Ù†ÙŠ"
}

ZAKAT_AL_FITR = {
    "amount": "ØµØ§Ø¹ Ù…Ù† Ø§Ù„Ø·Ø¹Ø§Ù… (Ø­ÙˆØ§Ù„ÙŠ 2.5 ÙƒØ¬Ù…)",
    "timing": "Ù‚Ø¨Ù„ ØµÙ„Ø§Ø© Ø§Ù„Ø¹ÙŠØ¯",
    "recipients": ["Ø§Ù„ÙÙ‚Ø±Ø§Ø¡", "Ø§Ù„Ù…Ø³Ø§ÙƒÙŠÙ†"],
    "description": "Ø²ÙƒØ§Ø© Ø§Ù„ÙØ·Ø± Ø·Ù‡Ø±Ø© Ù„Ù„ØµØ§Ø¦Ù… Ù…Ù† Ø§Ù„Ù„ØºÙˆ ÙˆØ§Ù„Ø±ÙØ«"
}

IETIKAF_GUIDE = {
    "description": "Ø§Ù„Ø§Ø¹ØªÙƒØ§Ù ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯",
    "duration": "Ø§Ù„Ø¹Ø´Ø± Ø§Ù„Ø£ÙˆØ§Ø®Ø± Ù…Ù† Ø±Ù…Ø¶Ø§Ù†",
    "conditions": [
        "Ø§Ù„Ù†ÙŠØ©",
        "Ø§Ù„Ù…Ø³Ø¬Ø¯",
        "Ø§Ù„Ø¥Ø³Ù„Ø§Ù…",
        "Ø§Ù„Ø¹Ù‚Ù„",
        "Ø§Ù„Ø·Ù‡Ø§Ø±Ø©"
    ],
    "virtues": [
        "Ø§Ù„Ø§Ø¹ØªÙƒØ§Ù Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø§Øª",
        "ÙŠØªÙØ±Øº Ø§Ù„Ø¹Ø¨Ø¯ Ù„Ù„Ø°ÙƒØ± ÙˆØ§Ù„Ø¯Ø¹Ø§Ø¡",
        "ÙØ±ØµØ© Ù„Ù„Ø§Ø¨ØªØ¹Ø§Ø¯ Ø¹Ù† Ø§Ù„Ù…Ù„Ù‡ÙŠØ§Øª"
    ]
}

RAMADAN_RULINGS = {
    "nullifiers": [
        "Ø§Ù„Ø£ÙƒÙ„ ÙˆØ§Ù„Ø´Ø±Ø¨ Ø¹Ù…Ø¯Ø§Ù‹",
        "Ø§Ù„Ø¬Ù…Ø§Ø¹ Ø¹Ù…Ø¯Ø§Ù‹",
        "Ø§Ù„Ø­ÙŠØ¶ ÙˆØ§Ù„Ù†ÙØ§Ø³",
        "Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø¹Ù…Ø¯Ø§Ù‹"
    ],
    "exemptions": [
        "Ø§Ù„Ù…Ø³Ø§ÙØ±",
        "Ø§Ù„Ù…Ø±ÙŠØ¶",
        "Ø§Ù„Ø­Ø§Ù…Ù„ ÙˆØ§Ù„Ù…Ø±Ø¶Ø¹",
        "ÙƒØ¨ÙŠØ± Ø§Ù„Ø³Ù†",
        "Ø§Ù„Ù…Ø¬Ù†ÙˆÙ†"
    ],
    "makrooh": [
        "Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ø¨Ø§Ø·Ù„",
        "ØªØ¶ÙŠÙŠØ¹ Ø§Ù„ÙˆÙ‚Øª",
        "Ø§Ù„ØºÙŠØ¨Ø© ÙˆØ§Ù„Ù†Ù…ÙŠÙ…Ø©",
        "Ø§Ù„Ù†Ø¸Ø± Ø§Ù„Ù…Ø­Ø±Ù…"
    ]
}

def get_ramadan_countdown():
    """Calculate days until next Ramadan"""
    today = datetime.now()
    
    # Ramadan 1446 AH is expected around February/March 2025
    # This is an approximation
    ramadan_1446 = datetime(2025, 3, 1)  # Approximate date
    
    if today > ramadan_1446:
        # Next year
        ramadan_1446 = datetime(2026, 2, 18)
    
    days_left = (ramadan_1446 - today).days
    
    return {
        "days_left": days_left,
        "estimated_date": ramadan_1446.strftime("%Y-%m-%d"),
        "hijri_year": 1446,
        "message": f"ğŸŒ™ **Ø¨Ø§Ù‚ÙŠ {days_left} ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø±Ù…Ø¶Ø§Ù†** ğŸŒ™"
    }

def get_daily_fasting_guide(day_number):
    """Get fasting guide for specific day of Ramadan"""
    if day_number == 1:
        return {
            "title": "Ø£ÙˆÙ„ ÙŠÙˆÙ… Ø±Ù…Ø¶Ø§Ù†",
            "tips": [
                "ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© Ø³Ø­ÙˆØ± Ù…ØªÙˆØ§Ø²Ù†Ø©",
                "Ø´Ø±Ø¨ ÙƒÙ…ÙŠØ© ÙƒØ§ÙÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø§Ø¡",
                "ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø·Ø¹Ù…Ø© Ø§Ù„Ù…Ù…Ù„Ø­Ø©",
                "ØªØ­Ø¯ÙŠØ¯ Ø£Ù‡Ø¯Ø§ÙÙƒ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†"
            ]
        }
    elif day_number == 27:
        return {
            "title": "Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø± Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©",
            "tips": [
                "Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„ ÙƒÙ„Ù‡ Ø¥Ù† Ø§Ø³ØªØ·Ø¹Øª",
                "ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø¯Ø¹Ø§Ø¡",
                "Ø§Ù„Ø¯Ø¹Ø§Ø¡: Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø¹ÙÙˆ ØªØ­Ø¨ Ø§Ù„Ø¹ÙÙˆ ÙØ§Ø¹Ù Ø¹Ù†ÙŠ",
                "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†"
            ]
        }
    else:
        return {
            "title": f"ÙŠÙˆÙ… {day_number} Ù…Ù† Ø±Ù…Ø¶Ø§Ù†",
            "tips": random.sample(RAMADAN_TIPS, 3)
        }

def get_ramadan_tip():
    """Get random Ramadan tip"""
    return random.choice(RAMADAN_TIPS)

def get_iftar_duas():
    """Get collection of iftar duas"""
    return {
        "main": RAMADAN_GUIDES["iftar_dua"],
        "alternatives": [
            "Ø§Ù„Ù„Ù‡Ù… ØªÙ‚Ø¨Ù„ Ù…Ù†Ø§ ØµÙŠØ§Ù…Ù†Ø§ ÙˆÙ‚ÙŠØ§Ù…Ù†Ø§",
            "Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù†Ø§ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†",
            "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ø£Ø·Ø¹Ù…Ù†ÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø²Ù‚"
        ]
    }

def get_suhoor_benefits():
    """Get benefits of suhoor"""
    return {
        "hadith": RAMADAN_GUIDES["suhoor_importance"],
        "benefits": [
            "ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ø¬Ø³Ù… Ø¨Ø§Ù„Ø·Ø§Ù‚Ø© Ù„Ù„ØµÙŠØ§Ù…",
            "Ø§ØªØ¨Ø§Ø¹ Ø³Ù†Ø© Ø§Ù„Ù†Ø¨ÙŠ ï·º",
            "ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ¹ ÙˆØ§Ù„Ø¹Ø·Ø´",
            "ÙØ±ØµØ© Ù„Ù„Ø¯Ø¹Ø§Ø¡ ÙÙŠ ÙˆÙ‚Øª Ù…Ø³ØªØ¬Ø§Ø¨"
        ]
    }
